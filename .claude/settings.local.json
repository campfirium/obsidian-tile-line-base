{
  "permissions": {
    "allow": [
      "Bash(git merge --no-ff fix/T0038-header-icon-display -m \"$(cat <<''EOF''\nMerge branch ''fix/T0038-header-icon-display'' into dev\n\n修复表格标题图标闪烁问题\nEOF\n)\")",
      "Bash(git checkout fix/T0038-header-icon-display)",
      "Bash(git add src/grid/AgGridAdapter.ts)",
      "Bash(git commit -m \"fix: improve header icon persistence with interval check\n\n改进图标持久化机制：\n- 添加定时检查（每秒）确保图标持续显示\n- 对 columnResized 事件使用节流（100ms）防止频繁更新\n- 保留图标存在性检查，避免不必要的重绘\")",
      "Bash(git merge --no-ff fix/T0038-header-icon-display -m \"Merge branch ''fix/T0038-header-icon-display'' into dev\n\n改进表格标题图标持久化机制\")",
      "Bash(git commit -m \"fix: eliminate initial icon flicker with debounce\n\n消除图标初始化时的闪烁：\n- 使用防抖机制合并初始化阶段的多次事件\n- 将 firstDataRendered、columnEverythingChanged 等事件统一防抖处理\n- 设置 50ms 防抖延迟，确保只执行一次图标更新\n- 移除冗余的 setTimeout 立即调用\n\n效果：图标从一开始就稳定显示，不再闪烁\")",
      "Bash(git merge --no-ff fix/T0038-header-icon-display -m \"Merge branch ''fix/T0038-header-icon-display'' into dev\n\n消除表格标题图标初始化闪烁\")",
      "Bash(git add src/grid/headers/IconHeaderComponent.ts src/grid/AgGridAdapter.ts)",
      "Bash(git commit -m \"refactor: use AG Grid headerComponent for stable icon display\n\n使用 AG Grid 原生 headerComponent 机制显示图标，彻底解决闪烁问题：\n\n根本原因：\n- 之前使用 JavaScript 动态添加图标，导致多次事件触发时图标被重复创建\n- AG Grid 在某些操作时会重新渲染表头 DOM，导致动态添加的图标丢失\n\n解决方案：\n- 创建自定义 IconHeaderComponent 组件\n- 在列定义时通过 headerComponent 配置图标\n- 图标由 AG Grid 原生渲染，与表头生命周期同步\n- 移除所有动态添加图标的代码（setupHeaderIcons、updateHeaderIcons 等）\n\n优势：\n- 图标从一开始就稳定显示，无闪烁\n- 无需事件监听和定时器\n- 符合 AG Grid 官方推荐做法\n- 代码更简洁，性能更好\n\n修改文件：\n- src/grid/headers/IconHeaderComponent.ts（新增）\n- src/grid/AgGridAdapter.ts（重构）\")",
      "Bash(git add styles.css)",
      "Bash(git commit -m \"style: add proper CSS for custom header icons\n\n添加 .tlb-header-icon 的 CSS 样式，修复图标对齐问题：\n- 图标容器使用 flex 布局，居中对齐\n- 图标大小固定为 16px × 16px\n- 保留旧的 .tlb-index-header-icon 和 .tlb-status-header-icon 样式以兼容\")",
      "Bash(npm run build)",
      "Bash(git add -A)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: implement custom filter view with condition editor\n\n实现自定义过滤视图功能，支持灵活的条件组合：\n\n核心功能：\n- 过滤条件编辑器模态框\n  - 支持添加/删除多个过滤条件\n  - 12种运算符：等于、不等于、包含、不包含、开头是、结尾是、为空、不为空、大于、小于、大于等于、小于等于\n  - 支持 AND/OR 条件组合模式\n  - 视图命名功能\n\n- 过滤逻辑实现\n  - 基于自定义规则的数据过滤\n  - 支持文本、数字、空值比较\n  - 使用 AG Grid API 动态更新显示数据\n\n- 数据结构设计\n  - FilterCondition: 单个过滤条件（列、运算符、值）\n  - FilterRule: 过滤规则（条件列表 + AND/OR）\n  - FilterViewDefinition: 使用 filterRule 替代 filterModel\n\n- 视图管理\n  - 右键菜单支持编辑/重命名/删除\n  - 视图持久化存储\n  - 自动应用激活视图的过滤条件\n\n文件修改：\n- src/types/filterView.ts: 新增过滤类型定义\n- src/TableView.ts: 实现过滤编辑器和应用逻辑\n- src/main.ts: 更新视图定义克隆逻辑\n- styles.css: 添加过滤编辑器样式\n\n技术要点：\n- 使用 schema.columnNames 获取可用列\n- 通过 AG Grid setGridOption API 更新数据\n- 保存全部数据 (allRowData) 供过滤使用\nEOF\n)\")",
      "Bash(git checkout dev)",
      "Bash(git add .claude/settings.local.json)",
      "Bash(git commit -m \"chore: update local settings\")",
      "Bash(git add docs/tasks/T0000.md)",
      "Bash(git commit -m \"docs: update task status\")",
      "Bash(git merge --no-ff feat/T0041-filter-view -m \"$(cat <<''EOF''\nMerge branch ''feat/T0041-filter-view'' into dev\n\n实现自定义过滤视图功能\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)"
    ],
    "deny": [],
    "ask": []
  }
}
