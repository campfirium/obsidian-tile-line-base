# H2 段落解析

### 最终确定的最佳方案：“模板H2”模式 (The 'Template H2' Paradigm)

我们抛弃了所有其他复杂的、脆弱的方案（比如用H3作字段、或纯粹的段落分列），最终确立了下面这套极其简单而强大的规则：

**核心原则：在一个笔记文件中，第一个 `## H2` 块，既是第一条数据，也同时定义了整个数据库的结构（Schema）。**

#### **具体规则：**

1.  **第一个 `## H2` 块 = “模板”**
    *   插件会将笔记中的**第一个 `## H2` 块**视为定义整个表格结构的“**模板**”。

2.  **模板定义了所有的“列”**
    *   这个模板 H2 的**标题**，成为**第一列的列名**。
    *   这个模板 H2 块内部的**每一个段落（每一行）**，按顺序成为**第二、三、四...列的列名**。
    *   **总列数**也由此被严格固定下来。

3.  **后续所有 `## H2` 块 = “数据”**
    *   从第二个 `## H2` 块开始，每一个 H2 块都代表一行数据。
    *   该 H2 的**标题**，成为这一行数据在**第一列**的值。
    *   该 H2 块内部的**每一个段落（每一行）**，按顺序成为这一行数据在**第二、三、四...列**的值。

---

### 一个完美的、清晰的示例

**Markdown 源文件 (`MyTasks.md`):**
```markdown
## 任务名称
负责人
状态
截止日期

## 学习插件开发
张三
进行中
2024-12-31

## 设计 Logo
李四
待处理
2024-11-30

## 撰写文档
王五
已完成
.
```

**在“表格视图”中被渲染成的效果：**

| 任务名称 | 负责人 | 状态 | 截止日期 |
| :--- | :--- | :--- | :--- |
| 学习插件开发 | 张三 | 进行中 | 2024-12-31 |
| 设计 Logo | 李四 | 待处理 | 2024-11-30 |
| 撰写文档 | 王五 | 已完成 | |

*(注意：我们用一个空的段落（或一个`.`）来表示“撰写文档”的截止日期为空)*

---

### 为什么这个方案是最好的？

我们之所以最终选择这个方案，是因为它完美地解决了其他所有方案的缺陷，达到了**简洁、健壮和直观**的“三位一体”：

1.  **优雅且对称 (Elegant & Symmetrical)**
    *   它解决了您之前指出的“不好看”的问题。第一个 `## H2` 块的结构，与后续所有数据块的结构，是**完全对称**的。所见即所得，极其优雅。

2.  **极其健壮 (Extremely Robust)**
    *   `## H2` 这个明确的“块级”分隔符，像一个坚固的“容器”，把每一行数据牢牢地包裹在一起。你可以在一个段落（单元格）里写很长的内容，或者使用空行，**绝不会**像“纯段落分列”那样因为一个无意的回车就导致整个表格数据错乱。

3.  **无感结构化 (Frictionless Structuring)**
    *   **这套规则，100% 都是标准的 Markdown**。它没有引入任何特殊符号（比如`@@`）、不需要 Frontmatter、也不强迫你改变写作层级（比如用H3）。你只需要会写 `##` 和段落，就能自然而然地构建出一个强大的数据库。

这套方案，就是我们整个“段落数据库”理念的**最核心、最不可动摇的基石**。它既不像“H3作字段”那样啰嗦，也不像“纯段落分列”那样脆弱，它是我们所有讨论和智慧的最终结晶。