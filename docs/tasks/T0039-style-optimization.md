# T0039-style-optimization

## 任务概述

记录并优化表格在当前 UI 中出现的边框与行状态样式问题。

## 待处理问题

1. **输入法兼容外框样式粗糙**：当前自定义编辑外框颜色、圆角与 AG Grid 默认外观不一致，需要改为与默认样式一致或提炼更淡的选中框效果。
2. **分支列选中态出现贯穿删除线**：勾选分支列后会额外套用贯穿线效果，影响信息辨识，需要移除该样式。
3. **完成任务列分隔线不规则**：第三列与第四列之间的垂直分隔线在部分任务标记为完成时会出现透明缺口，需要统一处理（如保持基线颜色或改为柔和渐变）。
4. **输入法兼容外框滚动后残留**：触发输入法兼容外框后，滚动网格时外框不会消失，导致视觉残留，需要在视图更新/滚动时自动移除。

## 后续步骤

- 核对现有样式定义，寻找与 AG Grid 默认边框风格一致的实现方式。
- 根据上述问题逐项实现与验证，完成后同步更新 `docs/tasks/T0000.md` 状态。


## 实施记录 (2025-10-20)

- [x] 调整 CompositionProxy 捕获框的描边与透明度，并随滚动/窗口变化自动撤销残留。
- [x] 为 AG Grid 容器绑定滚动与窗口尺寸监听，滚动时重新对齐 IME 捕获矩形。
- [x] 更新完成状态行样式，移除整行半透明并限定贯穿线仅作用于任务列。

## 待验证

- [ ] 检查浅色/深色主题下的描边颜色与 hover 对比度。
- [ ] 在滚动、列宽调整和切换文档后确认捕获框按预期隐藏。
